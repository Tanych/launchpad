{% extends "base.html" %}
{% load launchpad_extras %}

{% block content %}
<div class="libsite-container container">

    <section class="pagination">
        <ul>

        {% if prev_page_range %}
        <li><a href="{% url "search" %}?{{ prev_page_range }}">«</a></li>
        {% endif %}

        {% for n, q in page_range %}
        <li {% if n == page %}class="active"{% endif %}><a href="{% url "search" %}?{{q}}">{{ n }}</a></li>
        {% endfor %}

        {% if next_page_range %}
        <li><a href="{% url "search" %}?{{ next_page_range }}">»</a>
        {% endif %}

        </ul> 
    </section>

    <section id="search-results">

    {% for doc in search_results.results %}
    <article class="search-result" itemscope itemtype="{{ doc.type }}">
        {% if doc.type == "Book" %}<img title="Book" class="item-type" src="{{ STATIC_URL }}img/book.png">{%endif %}
        {% if doc.type == "VideoObject" %}<img title="Video" class="item-type" src="{{ STATIC_URL }}img/video.png">{% endif %}
        {% if doc.type == "AudioObject" %}<img title="Audio" class="item-type" src="{{ STATIC_URL }}img/audio.png">{% endif %}
        {% if doc.type == "Map" %}<img title="Map" class="item-type" src="{{ STATIC_URL }}img/map.png">{% endif %}
        {% if doc.type == "Periodical" %}<img title="Map" class="item-type" src="{{ STATIC_URL }}img/periodical.png">{% endif %}

        {% if doc.thumbnailUrl %}
            <img class="cover" src={{ doc.thumbnailUrl }}>
        {% endif %}

        <a href="{{ doc.id }}">
            <span class="title" itemprop="name">{{ doc.name }}</span><br>
        </a>

        {% if doc.author %}
            {% for author in doc.author %}
                <span itemprop="author" itemtype="Person" itemscope>
                  <span itemprop="name">{{ author.name }}</span>
                </span>
            {% endfor %}
            <br>
        {% endif %}

        {% if doc.publisher %}
            <span itemprop="publisher" itemscope itemtype="Person">
                <span itemprop="address">{{ doc.publisher.address }}</span> :
                <span itemprop="name">{{ doc.publisher.name }}</span>
            </span>
        {% endif %}
        {{ doc.datePublished }}
        <br>
        <span itemprop="offers">
            {% for offer in doc.offers %}
            <span itemprop="seller">{{ offer.seller }}</span>
            {% endfor %}
        </span>
    </article>
    {% endfor %}

    </section>

    <section id="facets">
    facet1
    </section>

     <section class="pagination">
        <ul>

        {% if prev_page_range %}
        <li><a href="{% url "search" %}?{{ prev_page_range }}">«</a></li>
        {% endif %}

        {% for n, q in page_range %}
        <li {% if n == page %}class="active"{% endif %}><a href="{% url "search" %}?{{q}}">{{ n }}</a></li>
        {% endfor %}

        {% if next_page_range %}
        <li><a href="{% url "search" %}?{{ next_page_range }}">»</a>
        {% endif %}

        </ul> 
    </section>


    {% if debug %}
    <h2>Debugging info:</h2>
    JSON: <a href="{{ json_url }}">{{ json_url }}</a>
    &nbsp;
    Summon: <a href="{{ raw_url }}">{{ raw_url }}</a>
    <br>
    <br>
    {% endif %}


</div>

{% endblock %}
